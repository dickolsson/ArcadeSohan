<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üîß Syst√®mes Communs - Arcade Sohan</title>
  <meta name="description" content="D√©couvre les modules partag√©s par tous les jeux!">
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="menu-overlay" id="menu-overlay"></div>
  <!-- Navigation (Navigation) -->
  <header>
    <nav class="navbar">
      <div class="container">
        <div class="logo glow-text">üéÆ ARCADE SOHAN</div>
        <div class="menu-toggle" id="menu-toggle">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <ul class="nav-links" id="nav-links">
          <li><a href="index.html">Accueil</a></li>
          <li><a href="games.html" class="active">Les Jeux</a></li>
          <li><a href="about.html">√Ä Propos</a></li>
          <li><a href="sohan.html">Sohan</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main>
    <!-- Breadcrumb (Fil d'Ariane) -->
    <section class="breadcrumb">
      <div class="container">
        <a href="games.html">‚Üê Retour aux jeux</a>
      </div>
    </section>

    <!-- Page Header (En-t√™te de page) -->
    <section class="page-header">
      <div class="container">
        <h1 class="glow-text">üîß Syst√®mes Communs</h1>
        <p>Les modules partag√©s par tous les jeux de la console</p>
      </div>
    </section>

    <!-- Common Systems (Syst√®mes communs) -->
    <section class="common-systems">
      <div class="container">
        <h2 class="section-title">üì¶ Modules R√©utilisables</h2>
        
        <p class="intro-text">
          Pour √©viter de dupliquer du code et √©conomiser de la m√©moire, tous les jeux 
          partagent des modules communs. Chaque module est un fichier <code>.h</code> 
          qui peut √™tre inclus dans n'importe quel jeu.
        </p>

        <div class="systems-grid">
          <div class="system-card">
            <h3>üì∫ Display.h - Affichage</h3>
            <p>
              Module pour dessiner sur l'√©cran OLED. Utilise le mode "page buffer" 
              pour √©conomiser la RAM (128 bytes au lieu de 1024).
            </p>
            <h4>Fonctions principales :</h4>
            <ul>
              <li><code>DESSINER_ECRAN { }</code> - Macro obligatoire pour dessiner</li>
              <li><code>ecrireTexte(x, y, "text", size)</code> - Afficher du texte</li>
              <li><code>dessinerRectangle(x, y, w, h)</code> - Dessiner des formes</li>
              <li><code>dessinerCercle(x, y, r)</code> - Dessiner un cercle</li>
            </ul>
            <div class="code-example">
              <pre><code>DESSINER_ECRAN {
  ecrireTexte(0, 0, "Score:", 1);
  ecrireNombre(40, 0, score, 1);
}</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üïπÔ∏è Input.h - Contr√¥les</h3>
            <p>
              Module pour lire le joystick et le bouton. G√®re la d√©tection des 
              directions et les pressions de bouton avec debouncing.
            </p>
            <h4>Fonctions principales :</h4>
            <ul>
              <li><code>lireJoystick()</code> - Mettre √† jour l'√©tat (appeler chaque frame)</li>
              <li><code>joystickHaut()</code> - V√©rifier direction haut</li>
              <li><code>joystickBas()</code> - V√©rifier direction bas</li>
              <li><code>joystickGauche()</code> - V√©rifier direction gauche</li>
              <li><code>joystickDroite()</code> - V√©rifier direction droite</li>
              <li><code>boutonJustePresse()</code> - D√©tection de clic (edge detection)</li>
            </ul>
            <div class="code-example">
              <pre><code>lireJoystick();
if (joystickGauche()) joueurX -= 2;
if (boutonJustePresse()) tirer();</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üéµ Melodies.h - Sons</h3>
            <p>
              M√©lodies pr√©-faites pour diff√©rentes actions du jeu. Utilise le buzzer 
              passif pour cr√©er des sons r√©tro.
            </p>
            <h4>M√©lodies disponibles :</h4>
            <ul>
              <li><code>melodieStartup()</code> - D√©marrage de la console</li>
              <li><code>melodieTir()</code> - Son de tir</li>
              <li><code>melodieGameOver()</code> - Fin de partie</li>
              <li><code>melodieAlerteBoss()</code> - Boss appara√Æt</li>
              <li><code>melodieVictoireBoss()</code> - Boss vaincu</li>
              <li><code>melodieNiveauSup()</code> - Level up</li>
            </ul>
            <div class="code-example">
              <pre><code>if (toucheEnnemi) {
  melodieMonstreTouche();
  score += 25;
}</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üî¨ Physics.h - Physique</h3>
            <p>
              Fonctions pour la d√©tection de collision et le mouvement. Z√©ro co√ªt 
              en RAM car toutes les fonctions sont <code>inline</code>.
            </p>
            <h4>Fonctions principales :</h4>
            <ul>
              <li><code>phys_touchePoint(x1, y1, x2, y2, dist)</code> - Collision cercle</li>
              <li><code>phys_toucheBoite(x, y, w, h, ...)</code> - Collision rectangle</li>
              <li><code>phys_bougerVers(&x, &y, tx, ty, speed)</code> - IA de poursuite</li>
              <li><code>phys_clampEcran(&x, &y, margin, topMargin)</code> - Rester √† l'√©cran</li>
            </ul>
            <div class="code-example">
              <pre><code>// Collision joueur-monstre
if (phys_touchePoint(joueurX, joueurY, 
                     monstreX, monstreY, 10)) {
  gameOver();
}</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üì¶ Objects.h - Objets</h3>
            <p>
              Syst√®me de pool pour g√©rer plusieurs objets (ennemis, projectiles) 
              sans allocation dynamique de m√©moire.
            </p>
            <h4>Structures et fonctions :</h4>
            <ul>
              <li><code>ObjetSimple</code> - Objets statiques (collectibles, checkpoints)</li>
              <li><code>ObjetMobile</code> - Objets avec v√©locit√© (balles, ennemis mobiles)</li>
              <li><code>obj_creer(pool, size, x, y, type)</code> - Cr√©er un objet</li>
              <li><code>obj_touchePoint(pool, size, x, y, dist)</code> - Collision</li>
              <li>Maximum 6 objets par pool</li>
            </ul>
            <div class="code-example">
              <pre><code>ObjetMobile balles[4];
objm_initialiser(balles, 4);
objm_creer(balles, 4, x, y, vx, vy, 1);</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üé≤ Procedural.h - G√©n√©ration</h3>
            <p>
              G√©n√©ration proc√©durale de niveaux et positions. M√™me seed = m√™me r√©sultat 
              pour des niveaux rejouables et testables.
            </p>
            <h4>Fonctions principales :</h4>
            <ul>
              <li><code>proc_genererPosition(seed, idx, &x, &y, margin)</code> - Position al√©atoire</li>
              <li><code>proc_genererPlateformes(level, plat, n, diff)</code> - Cr√©er des plateformes</li>
              <li><code>proc_calculerDifficulte(level)</code> - Retourne difficult√© 1-3</li>
              <li><code>proc_genererLoinDe(seed, idx, &x, &y, ...)</code> - Loin d'un point</li>
            </ul>
            <div class="code-example">
              <pre><code>// Niveau 1 = toujours les m√™mes plateformes
proc_genererPlateformes(niveau, plat, 5, 1);</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üíæ ProgMem.h - M√©moire</h3>
            <p>
              Stockage de donn√©es dans la Flash (32KB) au lieu de la RAM (2KB). 
              Essentiel pour tenir dans l'Arduino Uno.
            </p>
            <h4>Macros et fonctions :</h4>
            <ul>
              <li><code>NIVEAU_PROGMEM(name, {...})</code> - Stocker un niveau</li>
              <li><code>TEXTE_PROGMEM(name, "text")</code> - Stocker du texte</li>
              <li><code>pm_charger3Colonnes(src, dest, n)</code> - Charger en RAM</li>
              <li><code>pm_lireTexte(txt)</code> - Lire du texte</li>
              <li>√âconomise des centaines de bytes de RAM</li>
            </ul>
            <div class="code-example">
              <pre><code>NIVEAU_PROGMEM(niv1, {0,56,40, 45,46,30});
pm_charger3Colonnes(niv1, plat, 2);</code></pre>
            </div>
          </div>

          <div class="system-card">
            <h3>üë§ Personnages.h - Avatars</h3>
            <p>
              Syst√®me de personnages d√©bloquables. Les joueurs gagnent des √©toiles 
              pour d√©bloquer de nouveaux avatars avec diff√©rents designs.
            </p>
            <h4>Personnages et fonctions :</h4>
            <ul>
              <li>4 personnages: Blob (gratuit), Bonhomme, H√©ros, Champion</li>
              <li>Syst√®me d'√©toiles: 0, 99, 300, 600</li>
              <li><code>pers_dessinerPlateforme(x, y, perso, dir, frame)</code> - Vue c√¥t√©</li>
              <li><code>pers_dessinerVueHaut(x, y, taille, perso, dir)</code> - Vue dessus</li>
              <li><code>ajouterEtoiles(nombre)</code> - Gagner des √©toiles</li>
            </ul>
            <div class="code-example">
              <pre><code>pers_dessinerVueHaut(joueurX, joueurY, 8,
                     personnageActuel, direction);</code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Benefits Section (Avantages) -->
    <section class="benefits-section">
      <div class="container">
        <h2 class="section-title">‚ú® Avantages des Modules</h2>
        
        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">‚ôªÔ∏è</div>
            <h3>R√©utilisabilit√©</h3>
            <p>√âcrire le code une fois, l'utiliser partout. √âconomise du temps de d√©veloppement.</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üíæ</div>
            <h3>√âconomie de M√©moire</h3>
            <p>Partager le code entre jeux √©vite la duplication. Un seul <code>Physics.h</code> pour tous!</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üêõ</div>
            <h3>Maintenance Facile</h3>
            <p>Corriger un bug dans un module = corriger pour tous les jeux en m√™me temps.</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üìö</div>
            <h3>Code Organis√©</h3>
            <p>Structure claire : chaque module a une responsabilit√© unique et bien d√©finie.</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">‚ö°</div>
            <h3>D√©veloppement Rapide</h3>
            <p>Cr√©er un nouveau jeu est plus rapide avec tous les outils d√©j√† disponibles.</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üéì</div>
            <h3>Facile √† Apprendre</h3>
            <p>Chaque module peut √™tre √©tudi√© ind√©pendamment. Apprentissage progressif.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="container">
        <div class="cta-box">
          <h2>üîß Envie de construire ta propre console?</h2>
          <p>D√©couvre comment assembler le hardware et comprendre le code Arduino!</p>
          <a href="about.html" class="btn-arcade btn-large">Voir le guide ‚Üí</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer (Pied de page) -->
  <footer>
    <div class="container">
      <p>üéÆ Arcade Sohan - Projet Arduino par Sohan</p>
      <p class="footer-links">
        <a href="index.html">Accueil</a> ¬∑ 
        <a href="games.html">Les Jeux</a> ¬∑ 
        <a href="about.html">√Ä Propos</a> ¬∑ 
        <a href="sohan.html">Sohan</a>
      </p>
    </div>
  </footer>

  <script src="js/main.js"></script>
</body>
</html>
